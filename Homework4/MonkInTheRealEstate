#include <iostream>
#include <fstream>

using namespace std;

int countOfCities(IntGraph &g)
{
	int count = 0;
	IntList l;
	
	g.iterStart();
	elem_link<IntList> *p = g.Iter();

	while (p) {
		p->inf.iterStart();
		elem_link<int> *q = p->inf.iter();
		
		while (q) {
			if (!member(q->inf, l)) {
				l.toEnd(q->inf);
				count++;
			}
			q = q->link;
		}
		p = p->link;
	}
	return count;
}

int main()
{
	IntGraph g;
	int t;
	cin >> t;
	for (int i = 1; i <= t; i++) {

		int e;
		cin >> e;

		int x, y;
		for (int j = 1; j <= e; j++) {
			cin >> x >> y;

			if (!Point(x, g))
				AddTop(x, g);
			if (!Point(y, g))
				AddTop(y, g);
			AddRib(x, y, g);
		}
		cout << countOfCities(g) << endl;
	}

	system("pause");
	return 0;
}
